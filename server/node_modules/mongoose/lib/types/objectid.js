/**
 * ObjectId type constructor
 *
 * #### Example:
 *
 *     const id = new mongoose.Types.ObjectId;
 *
 * @constructor ObjectId
 */

'use strict';

<<<<<<< HEAD
const ObjectId = require('bson').ObjectId;
=======
<<<<<<< HEAD
const ObjectId = require('bson').ObjectId;
=======
<<<<<<< HEAD
const ObjectId = require('bson').ObjectId;
=======
const ObjectId = require('mongodb/lib/bson').ObjectId;
>>>>>>> 15bede01c7ffb65f0f85a5665d68bbebfb4c56e4
>>>>>>> 42b8c68a6b3e3ceb41f68f225e722ab4df25a304
>>>>>>> 41cbcef940efb197ef1c00de637fe545aa8e93ea
const objectIdSymbol = require('../helpers/symbols').objectIdSymbol;

/**
 * Getter for convenience with populate, see gh-6115
 * @api private
 */

Object.defineProperty(ObjectId.prototype, '_id', {
  enumerable: false,
  configurable: true,
  get: function() {
    return this;
  }
});

/*!
 * Convenience `valueOf()` to allow comparing ObjectIds using double equals re: gh-7299
 */

<<<<<<< HEAD
if (!ObjectId.prototype.hasOwnProperty('valueOf')) {
=======
<<<<<<< HEAD
if (!ObjectId.prototype.hasOwnProperty('valueOf')) {
=======
<<<<<<< HEAD
if (!ObjectId.prototype.hasOwnProperty('valueOf')) {
=======
if (!Object.hasOwn(ObjectId.prototype, 'valueOf')) {
>>>>>>> 15bede01c7ffb65f0f85a5665d68bbebfb4c56e4
>>>>>>> 42b8c68a6b3e3ceb41f68f225e722ab4df25a304
>>>>>>> 41cbcef940efb197ef1c00de637fe545aa8e93ea
  ObjectId.prototype.valueOf = function objectIdValueOf() {
    return this.toString();
  };
}

ObjectId.prototype[objectIdSymbol] = true;

module.exports = ObjectId;
