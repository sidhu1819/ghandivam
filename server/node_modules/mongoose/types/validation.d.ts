declare module 'mongoose' {
<<<<<<< HEAD
=======
<<<<<<< HEAD
=======
<<<<<<< HEAD
=======
<<<<<<< HEAD
>>>>>>> 42b8c68a6b3e3ceb41f68f225e722ab4df25a304
>>>>>>> 41cbcef940efb197ef1c00de637fe545aa8e93ea
>>>>>>> 3d8de14eeb27d6b293c8027db75b8cf0eb66facd

  type SchemaValidator<T, EnforcedDocType, THydratedDocumentType> = RegExp
    | [RegExp, string]
    | Function
    | [Function, string]
    | ValidateOpts<T, THydratedDocumentType>
    | ValidateOpts<T, THydratedDocumentType>[];
<<<<<<< HEAD
=======
<<<<<<< HEAD
=======
<<<<<<< HEAD
=======
=======
  type SchemaValidator<T, THydratedDocumentType> = RegExp |
    [RegExp, string] |
    Function |
    [Function, string] |
    ValidateOpts<T, THydratedDocumentType> |
    ValidateOpts<T, THydratedDocumentType>[];
>>>>>>> 15bede01c7ffb65f0f85a5665d68bbebfb4c56e4
>>>>>>> 42b8c68a6b3e3ceb41f68f225e722ab4df25a304
>>>>>>> 41cbcef940efb197ef1c00de637fe545aa8e93ea
>>>>>>> 3d8de14eeb27d6b293c8027db75b8cf0eb66facd

  interface ValidatorProps {
    path: string;
    fullPath: string;
    value: any;
    reason?: Error;
  }

  interface ValidatorMessageFn {
    (props: ValidatorProps): string;
  }

<<<<<<< HEAD
=======
<<<<<<< HEAD
=======
<<<<<<< HEAD
=======
<<<<<<< HEAD
>>>>>>> 42b8c68a6b3e3ceb41f68f225e722ab4df25a304
>>>>>>> 41cbcef940efb197ef1c00de637fe545aa8e93ea
>>>>>>> 3d8de14eeb27d6b293c8027db75b8cf0eb66facd
  type ValidateFn<T, EnforcedDocType> =
    (this: EnforcedDocType, value: any, props?: ValidatorProps & Record<string, any>) => boolean;

  type AsyncValidateFn<T, EnforcedDocType> =
    (this: EnforcedDocType, value: any, props?: ValidatorProps & Record<string, any>) => Promise<boolean>;

  interface ValidateOpts<T, EnforcedDocType> {
    msg?: string;
    message?: string | ValidatorMessageFn;
    type?: string;
    validator: ValidateFn<T, EnforcedDocType>
    | AsyncValidateFn<T, EnforcedDocType>;
<<<<<<< HEAD
=======
<<<<<<< HEAD
=======
<<<<<<< HEAD
=======
=======
  type ValidateFn<T, THydratedDocumentType> = (
    this: THydratedDocumentType | Query<unknown, THydratedDocumentType>,
    value: any,
    props?: ValidatorProps & Record<string, any>
  ) => boolean;

  type AsyncValidateFn<T, THydratedDocumentType> = (
    this: THydratedDocumentType | Query<unknown, THydratedDocumentType>,
    value: any,
    props?: ValidatorProps & Record<string, any>
  ) => Promise<boolean>;

  interface ValidateOpts<T, THydratedDocumentType> {
    msg?: string;
    message?: string | ValidatorMessageFn;
    type?: string;
    validator: ValidateFn<T, THydratedDocumentType> | AsyncValidateFn<T, THydratedDocumentType>;
>>>>>>> 15bede01c7ffb65f0f85a5665d68bbebfb4c56e4
>>>>>>> 42b8c68a6b3e3ceb41f68f225e722ab4df25a304
>>>>>>> 41cbcef940efb197ef1c00de637fe545aa8e93ea
>>>>>>> 3d8de14eeb27d6b293c8027db75b8cf0eb66facd
    propsParameter?: boolean;
  }
}
