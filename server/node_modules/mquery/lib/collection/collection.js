'use strict';

/**
 * methods a collection must implement
 */

const methods = [
  'find',
  'findOne',
  'updateMany',
  'updateOne',
  'replaceOne',
<<<<<<< HEAD
  'count',
  'distinct',
  'findOneAndDelete',
=======
<<<<<<< HEAD
  'count',
  'distinct',
  'findOneAndDelete',
=======
<<<<<<< HEAD
  'count',
  'distinct',
  'findOneAndDelete',
=======
  'countDocuments',
  'estimatedDocumentCount',
  'distinct',
  'findOneAndDelete',
  'findOneAndReplace',
>>>>>>> 15bede01c7ffb65f0f85a5665d68bbebfb4c56e4
>>>>>>> 42b8c68a6b3e3ceb41f68f225e722ab4df25a304
>>>>>>> 41cbcef940efb197ef1c00de637fe545aa8e93ea
  'findOneAndUpdate',
  'aggregate',
  'findCursor',
  'deleteOne',
  'deleteMany'
];

/**
 * Collection base class from which implementations inherit
 */

function Collection() {}

for (let i = 0, len = methods.length; i < len; ++i) {
  const method = methods[i];
  Collection.prototype[method] = notImplemented(method);
}

module.exports = exports = Collection;
Collection.methods = methods;

/**
 * creates a function which throws an implementation error
 */

function notImplemented(method) {
  return function() {
    throw new Error('collection.' + method + ' not implemented');
  };
}
